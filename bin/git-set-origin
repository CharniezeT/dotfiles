#!/bin/bash

if [ $# -lt 1 ]; then
    echo "Usage: $(basename "$0") <neworigin>" >&2
    exit 1
fi

git config remote.origin.url "$1"

# Make sure these are set, but don't overwrite them
git config --get-all remote.origin.fetch >/dev/null || \
    git config remote.origin.fetch refs/heads/*:refs/remotes/origin/*

git config --get-all branch.master.remote >/dev/null || \
    git config branch.master.remote origin

git config --get-all branch.master.merge >/dev/null || \
    git config branch.master.merge refs/heads/master
